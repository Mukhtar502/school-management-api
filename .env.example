# ============================================
# School Management System API
# Environment Configuration Example File
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================
# Service Configuration
# ============================================
SERVICE_NAME=school-management-api
ENV=development
NODE_ENV=development

# ============================================
# Server Ports
# ============================================
USER_PORT=5111
ADMIN_PORT=5222
ADMIN_URL=http://localhost:5222

# ============================================
# Database Configuration
# ============================================
# Local Development
MONGO_URI=mongodb://localhost:27017/school_management_system

# Production (MongoDB Atlas)
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/school_management_system?retryWrites=true&w=majority

# ============================================
# Redis Configuration
# ============================================
# Local Development
REDIS_URI=redis://127.0.0.1:6379

# Production (Heroku Redis)
# REDIS_URI=redis://username:password@redis-host:6379

# Cortex Redis (PubSub/Event Bus)
CORTEX_REDIS=redis://127.0.0.1:6379
CORTEX_PREFIX=sms:cortex
CORTEX_TYPE=school-management-api

# Oyster Redis (Query Caching)
OYSTER_REDIS=redis://127.0.0.1:6379
OYSTER_PREFIX=sms:oyster

# General Cache Redis
CACHE_REDIS=redis://127.0.0.1:6379
CACHE_PREFIX=sms:cache

# ============================================
# JWT Authentication Secrets
# ============================================
# IMPORTANT: Generate strong secrets for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Long Token (Access Token) - Valid for 7 days
LONG_TOKEN_SECRET=your_super_secret_long_token_key_min_32_chars_for_production!

# Short Token (Refresh Token) - Valid for 24 hours
SHORT_TOKEN_SECRET=your_super_secret_short_token_key_min_32_chars_for_production!

# NaCL Secret - For data encryption (Base64 encoded 32 bytes)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
NACL_SECRET=dGhpcyBpcyBhIDMyIGNoYXIgbmFjbCBzZWNyZXQga2V5Lg==

# ============================================
# Security Settings
# ============================================
# Enable rate limiting (requests per minute per IP)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Settings
# Development: allow all
ALLOWED_ORIGINS=*

# Production: specify exact origins
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# JWT Token Expiration
JWT_LONG_EXPIRY=7d
JWT_SHORT_EXPIRY=24h

# ============================================
# Logging & Monitoring
# ============================================
# Enable application logging
ENABLE_LOGGING=true

# Sentry Error Tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn

# DataDog API Key (optional)
# DATADOG_API_KEY=your_datadog_key

# New Relic License Key (optional)
# NEW_RELIC_LICENSE_KEY=your_newrelic_key

# ============================================
# API Features & Pagination
# ============================================
# Enable API documentation/Swagger
ENABLE_DOCS=true

# Default pagination limit
DEFAULT_PAGE_LIMIT=20
MAX_PAGE_LIMIT=100

# File upload settings
MAX_FILE_SIZE=10

# ============================================
# Email Configuration (For future features)
# ============================================
# SMTP Server for email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_SENDER=noreply@schoolmanagement.api

# ============================================
# Third-party Services
# ============================================
# SMS Service (optional)
# TWILIO_ACCOUNT_SID=your_twilio_sid
# TWILIO_AUTH_TOKEN=your_twilio_token

# Payment Processing (optional)
# STRIPE_API_KEY=your_stripe_key
# STRIPE_WEBHOOK_SECRET=your_webhook_secret

# ============================================
# Notes for Production Deployment
# ============================================
# 1. Generate strong JWT secrets:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 2. Use MongoDB Atlas for production database:
#    https://www.mongodb.com/cloud/atlas
#
# 3. Use Heroku Redis or AWS ElastiCache for Redis:
#    https://devcenter.heroku.com/articles/heroku-redis
#
# 4. Enable HTTPS/TLS with Let's Encrypt or CloudFlare
#
# 5. Setup monitoring with Sentry, DataDog, or New Relic
#
# 6. Configure backups for MongoDB and Redis
#
# 7. Setup CI/CD pipeline (GitHub Actions, GitLab CI, etc.)
#
# 8. Enable rate limiting and DDoS protection (CloudFlare)
#
# 9. Use environment-specific secrets (AWS Secrets Manager, HashiCorp Vault)
#
# 10. Regular security audits and updates
